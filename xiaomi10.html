<!DOCTYPE html>
<html>
<head>
	<title></title>
	<style>
		</style>
</head>
<body>
<h3>视频播放</h3>
<img   style="display: block;" src="http://image18.poco.cn/mypoco/myphoto/20161220/23/18487591220161220231028038_640.jpg?715x565_120">

<pre>
	var currentTime = document.getElementById("currentTime");//当前播放位置输入框
		var allTime = document.getElementById("allTime") ;       //总进度输入框
		var video = document.getElementById("video");            //视频
		var playButton = document.getElementById("playButton");  //播放按钮
		var allt = 	document.getElementById("allt");             //进度条的总长     
		var current = document.getElementById("current");        //当前播放进度框
		var btn = document.getElementById("btn");	             //圆形的小球
		var preLo = document.getElementById("preLo")             //缓存。
		var b = false;	
		var nextVideo = document.getElementById("nextVideo");
		var arr = ["aaa.webm","aaa.webm"];
		var n = 0;
		video.src= arr[0];
	progress.onclick=function move(event){
					var x = event.clientX;                        //点击选择播放位置
					video.currentTime = x*video.duration/1000;
				}
</pre>
<pre>
	progress.addEventListener("mousedown",movea);
		function movea(){
			b= true;
		} 
		window.addEventListener("mousemove",moveb);
		function moveb(event){
			if(b){
				var x = event.clientX;        
				current.style.width = x+"px";                          //滑动选择播放位置      
				btn.style.left = x+"px";
			}
		} 
		window.addEventListener("mouseup",movec);
		function movec(event){
			if(b){
				var x = event.clientX;
				current.style.width = x+"px"; 
				video.currentTime = event.clientX*344/1000;}
			    b=false;
		}
			

</pre>
<pre>			
			playButton.addEventListener("click",playVideo);
			function playVideo(){
				
				                                                       //为播放按钮绑定监听事件
				
				if(playButton.innerText == "播放"　){   
					video.play();
					playButton.innerText = "暂停";
				}else {
					video.pause();
					playButton.innerText = "播放";
				}  
				playon();
			}   
</pre>	
<pre>
			function playon(){

				st = setInterval(function(){                                 //播放以后 动作封装一下
			           allTime.value = Math.ceil(video.duration);            //总时长显示框
			           currentTime.value = Math.ceil(video.currentTime);     //当前时间显示狂

			       current.style.width=video.currentTime/video.duration*1000+"px";   //当前指示条
					btn.style.left = video.currentTime/video.duration*1000+"px";     //小圆球
					
					var tRange = video.buffered; 
				 
					var tbuffered = tRange.end(tRange.length - 1);                  //缓冲条
					var bufferpro  = tbuffered/video.duration*1000;
					preLo.style.width = bufferpro + "px";
			
				},1000); 	
			}
			nextVideo.addEventListener("click",function(){
				n++;
				if(n==arr.length){n=0}
				video.src = arr[n];
			  playButton.innerText = "播放";
				playon();	
			});
</pre>


			<img  style="display: block;" src="http://image18.poco.cn/mypoco/myphoto/20161220/23/18487591220161220232251057_640.jpg?693x270_120">
			
		<pre>	voice.addEventListener("click",volumea);
			function volumea(){
				voiceControl.style.marginLeft = event.clientX +"px";
				video.volume = event.clientX/100;
			}
			var c = false;
			voice.addEventListener("mousedown",function(){
				c= true;
			});
			voice.addEventListener("mousemove",function(){
				if(c&&event.clientX<=100){
					   
					   voiceControl.style.marginLeft = event.clientX +"px";
					   video.volume = event.clientX/100;
				}
			});
			voice.addEventListener("mouseup",function(){
				c = false;
				if(c&&event.clientX<=100){
					   
					   voiceControl.style.marginLeft = event.clientX +"px";
					   video.volume = event.clientX/100;
				}
			});
			var allScreen = document.getElementById('allScreen');
			var m = false;
			allScreen.addEventListener("click",function(){
				if(!m){
					video.style.width = window.screen.availWidth+"px";
					video.style.height = window.screen.availHeight + "px";
					m = true;
					console.log(window.screen.availWidth);
				}else{
					video.style.width = 1000+"px"
					video.style.height = 600 + "px";
					 m = false;
				}
			});
</pre>


<h3>跑马灯</h3>
<img src="http://image18.poco.cn/mypoco/myphoto/20161220/23/18487591220161220232633079_640.jpg?722x612_120">


</html>
